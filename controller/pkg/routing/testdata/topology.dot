digraph MultihopRoutingTopology {
    rankdir=LR;
    node [shape=box, style=rounded];
    edge [color=gray];
    
    // 节点定义
    R1 [label="R1\nRouter1\n10.1.0.0/24", fillcolor=lightblue, style="rounded,filled"];
    R2 [label="R2\nRouter2", fillcolor=lightgray, style="rounded,filled"];
    R3 [label="R3\nRouter3", fillcolor=lightgray, style="rounded,filled"];
    R4 [label="R4\nRouter4", fillcolor=lightgray, style="rounded,filled"];
    R5 [label="R5\nRouter5\n(ECMP Merge)", fillcolor=lightyellow, style="rounded,filled"];
    R6 [label="R6\nRouter6\n(Merge Point)", fillcolor=lightyellow, style="rounded,filled"];
    R7 [label="R7\nRouter7\n(Merge Point)", fillcolor=lightyellow, style="rounded,filled"];
    R8 [label="R8\nRouter8\n(Merge Point)", fillcolor=lightyellow, style="rounded,filled"];
    R9 [label="R9\nRouter9\n(Merge Point)", fillcolor=lightyellow, style="rounded,filled"];
    R10 [label="R10\nRouter10\n10.10.0.0/24", fillcolor=lightgreen, style="rounded,filled"];
    
    // Path1: R1 -> R2 -> R4 -> R7 -> R10
    R1 -> R2 [label="Eth0/0\n10.1.1.1", color=blue, penwidth=2];
    R2 -> R4 [label="Eth0/1\n10.2.4.1", color=blue, penwidth=2];
    R4 -> R7 [label="Eth0/0\n10.4.7.1", color=blue, penwidth=2];
    R7 -> R10 [label="Eth0/0\n10.7.10.1", color=blue, penwidth=2];
    
    // Path2: R1 -> R2 -> R5 -> R7 -> R10 (ECMP)
    R1 -> R2 [label="Eth0/1\n10.1.2.1", color=red, penwidth=2, style=dashed];
    R2 -> R5 [label="Eth0/2\n10.2.5.1", color=red, penwidth=2, style=dashed];
    R5 -> R7 [label="Eth0/0\n10.5.7.1", color=red, penwidth=2, style=dashed];
    R7 -> R10 [label="Eth0/0\n10.7.10.1", color=red, penwidth=2, style=dashed];
    
    // Path3: R1 -> R3 -> R5 -> R7 -> R10 (ECMP)
    R1 -> R3 [label="Eth0/2\n10.1.3.1", color=green, penwidth=2, style=dotted];
    R3 -> R5 [label="Eth0/0\n10.3.5.1", color=green, penwidth=2, style=dotted];
    R5 -> R7 [label="Eth0/0\n10.5.7.1", color=green, penwidth=2, style=dotted];
    R7 -> R10 [label="Eth0/1\n10.7.10.2", color=green, penwidth=2, style=dotted];
    
    // Path4: R1 -> R3 -> R6 -> R8 -> R9 -> R10 (Merge)
    R3 -> R6 [label="Eth0/1\n10.3.6.1", color=orange, penwidth=2];
    R6 -> R8 [label="Eth0/0\n10.6.8.1", color=orange, penwidth=2];
    R8 -> R9 [label="Eth0/0\n10.8.9.1", color=orange, penwidth=2];
    R9 -> R10 [label="Eth0/0\n10.9.10.1", color=orange, penwidth=2];
    
    // Path5: R1 -> R2 -> R4 -> R6 -> R8 -> R9 -> R10 (Merge)
    R4 -> R6 [label="Eth0/1\n10.4.6.1", color=purple, penwidth=2, style=dashed];
    R6 -> R8 [label="Eth0/0\n10.6.8.1", color=purple, penwidth=2, style=dashed];
    R8 -> R9 [label="Eth0/0\n10.8.9.1", color=purple, penwidth=2, style=dashed];
    R9 -> R10 [label="Eth0/0\n10.9.10.1", color=purple, penwidth=2, style=dashed];
    
    // 图例
    subgraph cluster_legend {
        label="图例";
        style=dashed;
        rank=sink;
        
        L1 [label="Path1 (5跳)", color=blue, style=invis];
        L2 [label="Path2 (5跳, ECMP)", color=red, style=invis];
        L3 [label="Path3 (5跳, ECMP)", color=green, style=invis];
        L4 [label="Path4 (6跳, Merge)", color=orange, style=invis];
        L5 [label="Path5 (7跳, Merge)", color=purple, style=invis];
    }
}

